const piece = document.getElementById('piece');const container = document.getElementById('board-container');let offsetX, offsetY;const snapPoints = [];const width = 768;const height = 768;const triangleWidth = width / 12;for (let i = 0; i < 12; i++) {snapPoints.push({x: width - (i + 0.5) * triangleWidth - 20,y: height * 0.1 - 20});snapPoints.push({x: width - (i + 0.5) * triangleWidth - 20,y: height * 0.9 - 20});}piece.addEventListener('dragstart', (e) => {offsetX = e.offsetX;offsetY = e.offsetY;});container.addEventListener('dragover', (e) => {e.preventDefault();});container.addEventListener('drop', (e) => {e.preventDefault();const x = e.offsetX - offsetX;const y = e.offsetY - offsetY;let nearest = snapPoints[0];let minDist = Infinity;for (const pt of snapPoints) {const dist = Math.hypot(pt.x - x, pt.y - y);if (dist < minDist) {minDist = dist;nearest = pt;}}piece.style.left = `${nearest.x}px`;piece.style.top = `${nearest.y}px`;});